let pokemonRepository=function(){let e=[];function a(a){"object"==typeof a&&"name"in a&&"detailsUrl"in a?e.push(a):console.log("error Pokemon entry data!")}function b(){return e}function c(a){pokemonRepository.loadDetails(a).then(function(){d(a)})}function d(a){let b=$(".modal-body"),d=$(".modal-title"),e=$(".modal-header.modal-title"),f=$("#exampleModalLabel");e.empty(),d.empty(),b.empty();let g=$(`<h2>${a.name.toUpperCase()}</h2>`),c=$("<img class='modal-img' width='50%'>");c.attr("src",a.imageUrl);let h=$(`<p>Height: ${a.height} m</p>`),i=$(`<p>Types: ${a.types.join(", ")}</p>`);f.append(g),b.append(c),b.append(h),b.append(i)}return document.querySelector("#myInput").addEventListener("input",function(){let a=document.querySelector("#myInput").value;a=a.toLowerCase(),$("li").each(function(){let b=$(this);b.text().includes(a)?b.show():b.hide()})}),{add:a,getAll:b,addListItem:function(d){let e=document.querySelector(".pokemon-list"),b=document.createElement("li"),a=document.createElement("button");a.innerText=d.name,a.classList.add("btn","btn-primary","col-xl-6","col-md-8","col-11","mx-auto"),a.setAttribute("type","button"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),a.classList.add("pokemon-list-button"),b.classList.add("list-group-item"),b.classList.add("pokemon-list-item"),b.appendChild(a),e.appendChild(b),a.addEventListener("click",function(){c(d)})},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(b){b.results.forEach(function(b){let c={name:b.name,detailsUrl:b.url};a(c),console.log(c)})}).catch(function(a){console.error(a)})},loadDetails:function(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.other.dream_world.front_default,a.height=b.height;let c=[];b.types.forEach(function(a){c.push(a.type.name)}),a.types=c}).catch(function(a){console.error(a)})},showDetails:c,showModal:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})